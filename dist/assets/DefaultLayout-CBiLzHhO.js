import{r as o,j as s,O as $,A as k,a as L,b as P,s as N,k as C,C as b,d as h,e as x,f as m,g,h as A,S as v,i as y}from"./index-C4Bo1st7.js";import{c as S}from"./cil-location-pin-CQr6GRP7.js";var w=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M256,496A240,240,0,0,1,86.294,86.294,240,240,0,0,1,425.706,425.706,238.43,238.43,0,0,1,256,496Zm0-448C141.309,48,48,141.309,48,256s93.309,208,208,208,208-93.309,208-208S370.691,48,256,48Z' class='ci-primary'/><polygon fill='var(--ci-primary-color, currentColor)' points='227.313 379.313 204.687 356.687 305.372 256 204.687 155.313 227.313 132.687 350.627 256 227.313 379.313' class='ci-primary'/>"];const I="https://appsdemo.pro/AgentsPay/api",U=({data:n,loading:j})=>{const t=C(),p="All Users",r=(n==null?void 0:n.length)>4?n==null?void 0:n.slice(0,5):n;return s.jsx(b,{children:s.jsx(h,{md:12,children:s.jsx(x,{children:s.jsx(m,{className:"",children:s.jsxs(g,{className:"",children:[s.jsx("h3",{children:"All Users"}),s.jsx(A,{children:j?s.jsx(v,{}):r!=null&&r.length?r==null?void 0:r.map((c,e)=>{var a;return s.jsxs(h,{md:2,className:"d-flex items-center m-1",children:[s.jsx(x,{children:s.jsx(m,{children:s.jsxs(g,{className:"d-flex flex-column items-center",children:[s.jsx("img",{src:`https://appsdemo.pro/AgentsPay/${c==null?void 0:c.profileImage}`,className:"rounded",style:{width:170,height:170}}),s.jsx("h6",{className:"pt-2 font-weight-bold",children:c==null?void 0:c.full_name}),s.jsxs("div",{className:"d-flex align-items-center flex-row",children:[s.jsx(y,{icon:S}),s.jsx("p",{className:"text-secondary mb-0 p-1",children:(a=c==null?void 0:c.currentLocation)==null?void 0:a.address})]})]})})}),e===r.length-1&&(r==null?void 0:r.length)>=5&&s.jsx(x,{className:"m-4 mt-0 mb-0",style:{cursor:"pointer"},onClick:()=>{const l=encodeURIComponent(JSON.stringify(n));t(`/all/${p}?data=${l}`)},children:s.jsx(m,{children:s.jsx(g,{style:{width:130,backgroundColor:"lightgray",display:"flex",justifyContent:"center",alignItems:"center"},children:s.jsx(y,{icon:w,size:"3xl"})})})})]},e)}):s.jsx(h,{md:12,className:"text-center mt-4",children:s.jsx("h5",{className:"text-secondary",children:"No data available"})})})]})})})})})},d=({heading:n})=>{const j=C(),[t,p]=o.useState([]),[r,c]=o.useState(!0),e=(t==null?void 0:t.length)>4?t==null?void 0:t.slice(0,5):t,a=async({heading:l})=>{var f;const u=l==="All listings"?"All":l;try{const i=await N.get(`${I}/listing/listingByCategory?category=${u}`);p(i!=null&&i.data?(f=i==null?void 0:i.data)==null?void 0:f.data:[])}catch{setError("Failed to fetch users")}finally{c(!1)}};return o.useEffect(()=>{a({heading:n})},[n]),s.jsx(b,{className:"pt-4",children:s.jsx(h,{md:12,children:s.jsx(x,{children:s.jsx(m,{className:"",children:s.jsxs(g,{className:"",children:[s.jsx("h3",{children:n}),s.jsx(A,{children:r?s.jsx(v,{}):e!=null&&e.length?e==null?void 0:e.map((l,u)=>s.jsxs(h,{md:2,className:"d-flex items-center m-1",children:[s.jsx(x,{children:s.jsx(m,{children:s.jsxs(g,{className:"d-flex flex-column items-center",children:[s.jsx("div",{style:{backgroundImage:`url(https://appsdemo.pro/AgentsPay/${l.images[0]})`,width:170,height:170,backgroundSize:"cover",backgroundPosition:"center",display:"flex",justifyContent:"flex-end",alignItems:"flex-end"},className:"rounded",children:s.jsx("div",{className:"d-flex justify-content-center align-items-center rounded m-2 flex-row bg-success p-2",children:s.jsxs("p",{className:"text-white mb-0 small",children:["$",l.sellPrice]})})}),s.jsx("h6",{className:"pt-2 font-weight-bold",children:l.name}),s.jsxs("div",{className:"d-flex align-items-center flex-row",children:[s.jsx(y,{icon:S}),s.jsx("p",{className:"text-secondary mb-0 p-1",children:l.cityName})]})]})})}),u===(e==null?void 0:e.length)-1&&(e==null?void 0:e.length)>=5&&s.jsx(x,{className:"m-4 mt-0 mb-0",style:{cursor:"pointer"},onClick:()=>{const f=encodeURIComponent(JSON.stringify(t));j(`/all/${n}?data=${f}`)},children:s.jsx(m,{children:s.jsx(g,{style:{width:130,backgroundColor:"lightgray",display:"flex",justifyContent:"center",alignItems:"center"},children:s.jsx(y,{icon:w,size:"3xl"})})})})]},u)):s.jsx(h,{md:12,className:"text-center mt-4",children:s.jsx("h5",{className:"text-secondary",children:"No data available"})})})]})})})})})},z=()=>{const[n,j]=o.useState([]),[t,p]=o.useState(!0),[r,c]=o.useState(""),e=async()=>{var a;try{const l=await N.get(`${I}/user/AllUsers`);j(l!=null&&l.data?(a=l==null?void 0:l.data)==null?void 0:a.data:[])}catch{c("Failed to fetch users")}finally{p(!1)}};return o.useEffect(()=>{e()},[]),s.jsxs("div",{children:[s.jsx($,{}),s.jsx(k,{}),s.jsxs("div",{className:"wrapper d-flex flex-column min-vh-100",children:[s.jsx(L,{}),s.jsxs("div",{className:"body flex-grow-1 mb-4",children:[U({data:n,loading:t}),d({heading:"All listings"}),d({heading:"House"}),d({heading:"Apartment"}),d({heading:"Hotel"}),d({heading:"Villa"}),d({heading:"Cottage"})]}),s.jsx(P,{})]})]})};export{I as API_END_POINT,z as default};
